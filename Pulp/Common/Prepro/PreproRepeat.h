#pragma once

#ifndef X_PREPROCESSORREPEAT_H
#define X_PREPROCESSORREPEAT_H

#define X_PP_REPEAT_0(op, data)
#define X_PP_REPEAT_1(op, data) op(0, data)
#define X_PP_REPEAT_2(op, data) X_PP_REPEAT_1(op, data) \
op(1, data)
#define X_PP_REPEAT_3(op, data) X_PP_REPEAT_2(op, data) \
op(2, data)
#define X_PP_REPEAT_4(op, data) X_PP_REPEAT_3(op, data) \
op(3, data)
#define X_PP_REPEAT_5(op, data) X_PP_REPEAT_4(op, data) \
op(4, data)
#define X_PP_REPEAT_6(op, data) X_PP_REPEAT_5(op, data) \
op(5, data)
#define X_PP_REPEAT_7(op, data) X_PP_REPEAT_6(op, data) \
op(6, data)
#define X_PP_REPEAT_8(op, data) X_PP_REPEAT_7(op, data) \
op(7, data)
#define X_PP_REPEAT_9(op, data) X_PP_REPEAT_8(op, data) \
op(8, data)
#define X_PP_REPEAT_10(op, data) X_PP_REPEAT_9(op, data) \
op(9, data)
#define X_PP_REPEAT_11(op, data) X_PP_REPEAT_10(op, data) \
op(10, data)
#define X_PP_REPEAT_12(op, data) X_PP_REPEAT_11(op, data) \
op(11, data)
#define X_PP_REPEAT_13(op, data) X_PP_REPEAT_12(op, data) \
op(12, data)
#define X_PP_REPEAT_14(op, data) X_PP_REPEAT_13(op, data) \
op(13, data)
#define X_PP_REPEAT_15(op, data) X_PP_REPEAT_14(op, data) \
op(14, data)
#define X_PP_REPEAT_16(op, data) X_PP_REPEAT_15(op, data) \
op(15, data)
#define X_PP_REPEAT_17(op, data) X_PP_REPEAT_16(op, data) \
op(16, data)
#define X_PP_REPEAT_18(op, data) X_PP_REPEAT_17(op, data) \
op(17, data)
#define X_PP_REPEAT_19(op, data) X_PP_REPEAT_18(op, data) \
op(18, data)
#define X_PP_REPEAT_20(op, data) X_PP_REPEAT_19(op, data) \
op(19, data)
#define X_PP_REPEAT_21(op, data) X_PP_REPEAT_20(op, data) \
op(20, data)
#define X_PP_REPEAT_22(op, data) X_PP_REPEAT_21(op, data) \
op(21, data)
#define X_PP_REPEAT_23(op, data) X_PP_REPEAT_22(op, data) \
op(22, data)
#define X_PP_REPEAT_24(op, data) X_PP_REPEAT_23(op, data) \
op(23, data)
#define X_PP_REPEAT_25(op, data) X_PP_REPEAT_24(op, data) \
op(24, data)
#define X_PP_REPEAT_26(op, data) X_PP_REPEAT_25(op, data) \
op(25, data)
#define X_PP_REPEAT_27(op, data) X_PP_REPEAT_26(op, data) \
op(26, data)
#define X_PP_REPEAT_28(op, data) X_PP_REPEAT_27(op, data) \
op(27, data)
#define X_PP_REPEAT_29(op, data) X_PP_REPEAT_28(op, data) \
op(28, data)
#define X_PP_REPEAT_30(op, data) X_PP_REPEAT_29(op, data) \
op(29, data)
#define X_PP_REPEAT_31(op, data) X_PP_REPEAT_30(op, data) \
op(30, data)
#define X_PP_REPEAT_32(op, data) X_PP_REPEAT_31(op, data) \
op(31, data)
#define X_PP_REPEAT_33(op, data) X_PP_REPEAT_32(op, data) \
op(32, data)
#define X_PP_REPEAT_34(op, data) X_PP_REPEAT_33(op, data) \
op(33, data)
#define X_PP_REPEAT_35(op, data) X_PP_REPEAT_34(op, data) \
op(34, data)
#define X_PP_REPEAT_36(op, data) X_PP_REPEAT_35(op, data) \
op(35, data)
#define X_PP_REPEAT_37(op, data) X_PP_REPEAT_36(op, data) \
op(36, data)
#define X_PP_REPEAT_38(op, data) X_PP_REPEAT_37(op, data) \
op(37, data)
#define X_PP_REPEAT_39(op, data) X_PP_REPEAT_38(op, data) \
op(38, data)
#define X_PP_REPEAT_40(op, data) X_PP_REPEAT_39(op, data) \
op(39, data)
#define X_PP_REPEAT_41(op, data) X_PP_REPEAT_40(op, data) \
op(40, data)
#define X_PP_REPEAT_42(op, data) X_PP_REPEAT_41(op, data) \
op(41, data)
#define X_PP_REPEAT_43(op, data) X_PP_REPEAT_42(op, data) \
op(42, data)
#define X_PP_REPEAT_44(op, data) X_PP_REPEAT_43(op, data) \
op(43, data)
#define X_PP_REPEAT_45(op, data) X_PP_REPEAT_44(op, data) \
op(44, data)
#define X_PP_REPEAT_46(op, data) X_PP_REPEAT_45(op, data) \
op(45, data)
#define X_PP_REPEAT_47(op, data) X_PP_REPEAT_46(op, data) \
op(46, data)
#define X_PP_REPEAT_48(op, data) X_PP_REPEAT_47(op, data) \
op(47, data)
#define X_PP_REPEAT_49(op, data) X_PP_REPEAT_48(op, data) \
op(48, data)
#define X_PP_REPEAT_50(op, data) X_PP_REPEAT_49(op, data) \
op(49, data)
#define X_PP_REPEAT_51(op, data) X_PP_REPEAT_50(op, data) \
op(50, data)
#define X_PP_REPEAT_52(op, data) X_PP_REPEAT_51(op, data) \
op(51, data)
#define X_PP_REPEAT_53(op, data) X_PP_REPEAT_52(op, data) \
op(52, data)
#define X_PP_REPEAT_54(op, data) X_PP_REPEAT_53(op, data) \
op(53, data)
#define X_PP_REPEAT_55(op, data) X_PP_REPEAT_54(op, data) \
op(54, data)
#define X_PP_REPEAT_56(op, data) X_PP_REPEAT_55(op, data) \
op(55, data)
#define X_PP_REPEAT_57(op, data) X_PP_REPEAT_56(op, data) \
op(56, data)
#define X_PP_REPEAT_58(op, data) X_PP_REPEAT_57(op, data) \
op(57, data)
#define X_PP_REPEAT_59(op, data) X_PP_REPEAT_58(op, data) \
op(58, data)
#define X_PP_REPEAT_60(op, data) X_PP_REPEAT_59(op, data) \
op(59, data)
#define X_PP_REPEAT_61(op, data) X_PP_REPEAT_60(op, data) \
op(60, data)
#define X_PP_REPEAT_62(op, data) X_PP_REPEAT_61(op, data) \
op(61, data)
#define X_PP_REPEAT_63(op, data) X_PP_REPEAT_62(op, data) \
op(62, data)
#define X_PP_REPEAT_64(op, data) X_PP_REPEAT_63(op, data) \
op(63, data)

/// \def X_PP_REPEAT
/// \ingroup Preprocessor
/// \brief Expands the arguments so that a user-defined operation is called N number of times with user-defined data.
/// \details This macro is useful for e.g. repeatedly calling a function with the same data, but a different index.
///
/// The operation to call must be a macro with two parameters:
/// - The first parameter denotes how many times the operation has been called.
/// - The second parameter is the user-defined data provided to the \ref X_PP_REPEAT macro.
///
/// Check the provided code example for example usage:
/// \code
///   // assume that there exists a function called GlobalFunction(unsigned int, T)
///   // define our operation macro
///   #define CALL_FUNCTION(index, data)					GlobalFunction(index, data);
///
///   ...
///   X_PP_REPEAT(2, CALL_FUNCTION, myData);
///   will expand into
///   GlobalFunction(0, myData); GlobalFunction(1, myData);
///
///   ...
///   X_PP_REPEAT(4, CALL_FUNCTION, myData);
///   will expand into
///   GlobalFunction(0, myData); GlobalFunction(1, myData); GlobalFunction(2, myData); GlobalFunction(3, myData);
/// \endcode
#define X_PP_REPEAT(count, op, data) X_PP_JOIN_2(X_PP_REPEAT_, count) \
(op, data)

#define X_PP_REPEAT_OP_COMMA(index, data) data,

#define X_PP_REPEAT_COMMA_SEP(count, data) X_PP_JOIN_2(X_PP_REPEAT_, count) \
(X_PP_REPEAT_OP_COMMA, data)

#endif
