
package Potato.ProtoBuf.AssetDB;

// we want to be able to make requests to the asset db
// todo the following:
// add a new asset.
// delete a asset.
// rename a asset.
// get the info about a asset?
// update asset info.

enum AssetType {
    MODEL = 1;
    ANIM = 2;
    MATERIAL = 3;
    IMG = 4;
}

message Reponse {
    enum Result { OK = 1; NOT_FOUND = 2; NAME_TAKEN = 3; UNCHANGED = 4; ERROR = 5; }

    required Result result = 1;
    required string error = 2;
}

message AddAsset {
    required string name = 1;
    required AssetType type = 2;
}

message DeleteAsset {
    required string name = 1;
    required AssetType type = 2;
}

message RenameAsset {
    required string name = 1;
    required string newName = 2;
    required AssetType type = 3;
}

message UpdateAsset {
    required string name = 1;
    required AssetType type = 2;
    optional string args= 3;
    optional  uint32 dataSize = 4;
}

message Request {

    oneof msg {
        AddAsset add = 1;
        DeleteAsset del = 2;
        RenameAsset rename = 3;
        UpdateAsset update = 4;
    }
}
